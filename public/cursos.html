<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cursos - Ezra</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="icon" href="/img/logo icone.svg" />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/cursos.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
</head>
<body>
<header class="premium-header" id="premium-header">
      <nav class="premium-nav" aria-label="Menu principal">
        <a href="index.html">Home</a>
        <a href="vagas.html">Vagas</a>
        <a href="cursos.html">Cursos</a>
        <a href="artigos.html">Artigos</a>
      </nav>
      <div class="logo">
        <img src="/img/logo.svg" alt="Logo Ezra" />
      </div>
      <div class="premium-actions">
        <a href="https://linkedin.com" title="LinkedIn" target="_blank"
          ><i class="fa-brands fa-linkedin"></i
        ></a>
        <a href="https://www.instagram.com/ezrac.orp/" title="Instagram" target="_blank"
          ><i class="fa-brands fa-instagram"></i
        ></a>
              <div class="account-icon">
        <a id="account-link">
          <i class="fa-solid fa-user" id="account-icon-user"></i>

          <span id="user-nome" class="user-nome-text" style="display: none;"></span>

          <span class="account-text-roller" id="login-roller">
            <span class="roller-text roller-cadastrar">Cadastrar</span>
            <span class="roller-text roller-entrar">Entrar</span>
          </span>
        </a>
      </div>

    </div>
  </header>
  <main>
    <div id="perfil-modal" class="perfil-modal">
      <div class="perfil-content">
        <span id="close-modal" class="close">&times;</span>
        <h2>Perfil do Usuário</h2>
        <p><strong>Nome:</strong> <span id="perfil-nome"></span></p>
        <p><strong>Email:</strong> <span id="perfil-email"></span></p>
        <p><strong>Skills:</strong> <span id="perfil-skills"></span></p>
        <p>
          <strong>Experiência:</strong> <span id="perfil-experiencia"></span>
        </p>

        <button id="logout-btn" class="logout-btn">Sair da Conta</button>
      </div>
    </div>
      <section class="hero">
        <h1>Capacite-se com os Cursos Ezra</h1>
        <p>Desenvolva novas habilidades e impulsione sua carreira com nossos cursos gratuitos e acessíveis.</p>
        <a target="_blank" href="#cursos" class="btn" style="text-decoration:none; border-bottom:none;">Ver Cursos</a>
      </section>

      <section id="cursos" class="courses-section">
        <h2>Nossos Cursos</h2>
        <div class="courses-grid">
          <div class="course-card">
            <img src="img/Atendimento_Logo.svg" alt="Curso de Atendimento ao Cliente" />
            <h3>Atendimento ao Cliente</h3>
            <p>Aprenda técnicas de comunicação e empatia para se destacar no atendimento profissional.</p>
            <button class="btn-secondary">Inscreva-se</button>
          </div>

          <div class="course-card">
            <img src="img/Introducao_Logo.svg" alt="Curso de Introdução à Tecnologia" />
            <h3>Introdução à Tecnologia</h3>
            <p>Conheça os fundamentos da informática e prepare-se para o mercado digital.</p>
            <button class="btn-secondary">Inscreva-se</button>
          </div>

          <div class="course-card">
            <img src="img/Lampada.svg" alt="Curso de Empreendedorismo" />
            <h3>Empreendedorismo</h3>
            <p>Desenvolva sua mentalidade empreendedora e aprenda a criar oportunidades de negócio.</p>
            <button class="btn-secondary">Inscreva-se</button>
          </div>

          <div class="course-card">
            <img src="img/Comunicacao.svg" alt="Curso de Comunicação Inclusiva" />
            <h3>Comunicação Inclusiva</h3>
            <p>Aprenda a se comunicar com respeito e inclusão, valorizando a diversidade.</p>
            <button class="btn-secondary">Inscreva-se</button>
          </div>
          <div class="course-card">
            <img src="img/Pacote.svg" alt="Curso de Pacote Office" />
            <h3>Introdução ao Pacote Office</h3>
            <p>Aprenda a utizar ferramentas com Word, PowerPoint, Excel e PowerBI.</p>
            <button class="btn-secondary">Inscreva-se</button>
          </div>
          <div class="course-card">
            <img src="img/Celebro.svg" alt="Curso de Aplicação de IA" />
            <h3>Aplicação de IA</h3>
            <p>Descubra como a Inteligência Artificial pode transformar negócios e carreiras.</p>
            <button class="btn-secondary">Inscreva-se</button>
          </div>
        </div>
      </section>
    </main>

    <section class="articles-section">
  <h2>Artigos Recentes</h2>
  <div class="articles-grid">
    <div class="article-card">
      <img src="/img/Entrevista.jpg" alt="Artigo sobre mercado de trabalho" />
      <div class="article-content">
        <h3>Como se destacar no mercado de trabalho</h3>
        <p>Dicas práticas e comportamentais para crescer profissionalmente mesmo em um cenário competitivo.</p>
        <a target="_blank" href="https://exame.com/carreira/guia-de-carreira/10-dicas-para-se-destacar-em-um-ambiente-de-trabalho-competitivo/">Ler mais →</a>
      </div>
    </div>

    <div class="article-card">
      <img src="/img/WorkHome.jpg" alt="Artigo sobre produtividade" />
      <div class="article-content">
        <h3>Produtividade inteligente: trabalhe melhor, não mais</h3>
        <p>Aprenda métodos modernos para otimizar seu tempo e aumentar sua eficiência sem sobrecarga.</p>
        <a target="_blank " href="https://asana.com/pt/resources/how-to-be-more-productive?utm_source=chatgpt.com">Ler mais →</a>
      </div>
    </div>

    <div class="article-card">
      <img src="/img/TI.jpg" alt="Artigo sobre tecnologia e carreira" />
      <div class="article-content">
        <h3>Tecnologia e carreira: as habilidades do futuro</h3>
        <p>Entenda quais competências serão mais valorizadas no mundo digital e como se preparar para elas.</p>
        <a target="_blank" href="https://valor.globo.com/carreira/noticia/2025/01/11/futuro-do-trabalho-16-habilidades-em-ascensao-ate-2030.ghtml?utm_source=chatgpt.com">Ler mais →</a>
      </div>
    </div>
  </div>
</section>

    <footer>
      <div class="footer-container">
        <div class="footer-logo">
          <img src="img/logo branca.svg" alt="Ezra Logo" />
        </div>
        <div class="footer-links">
          <a href="index.html">Home</a>
          <a href="vagas.html">Vagas</a>
          <a href="artigos.html">Artigos</a>
          <a href="contato.html">Contato</a>
        </div>
        <div class="footer-social">
          <a target="_blank" href="#"><i class="fa-brands fa-linkedin"></i></a>
          <a target="_blank" href="https://instagram.com/ezrac.orp"><i class="fa-brands fa-instagram"></i></a>
          <a target="_blank" href="#"><i class="fa-brands fa-facebook"></i></a>
        </div>
        <div class="footer-cert">
          <img src="img/Design sem nome.png" alt="B-Corp Certificado" />
          <span>B-Corp & Sustentabilidade</span>
        </div>
      </div>
      <div class="footer-copy">
        &copy; 2025 Ezra. Todos os direitos reservados.
      </div>
                <div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
          <div class="vw-plugin-top-wrapper"></div>
        </div>
      </div>
    </footer>

  <script>
class AuthManager {
  constructor() {
    this.token = localStorage.getItem("authToken");
    this.nome = localStorage.getItem("userName") || "Visitante";
  }

  async login(email, senha) {
    const res = await fetch("/api/auth/login", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ email, senha }),
    });

    const data = await res.json();
    if (!res.ok) throw new Error(data.error || "Falha no login");

    localStorage.setItem("authToken", data.token);
    localStorage.setItem("userName", data.nome);
    this.token = data.token;
    this.nome = data.nome;

    this.updateUserUI();
    alert(data.message);
  }

  async register(userData) {
    const res = await fetch("/api/auth/register", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(userData),
    });

    const data = await res.json();
    if (!res.ok) throw new Error(data.error || "Erro ao cadastrar");

    localStorage.setItem("authToken", data.token);
    localStorage.setItem("userName", data.nome);
    this.token = data.token;
    this.nome = data.nome;

    this.updateUserUI();
    alert(data.message);
  }

  logout() {
    localStorage.removeItem("authToken");
    localStorage.removeItem("userName");
    this.token = null;
    this.nome = "Visitante";
    this.updateUserUI();
  }

  updateUserUI() {
    const nomeEl = document.querySelector("#user-nome");
    if (nomeEl) nomeEl.textContent = this.nome.toUpperCase();
  }
}

const auth = new AuthManager();

document.addEventListener("DOMContentLoaded", () => {
  auth.updateUserUI();

  /* ---------------- HEADER SHRINK ---------------- */
  window.addEventListener("scroll", () => {
    const header = document.getElementById("premium-header");
    if (!header) return;
    header.classList.toggle("scrolled", window.scrollY > 50);
  });

  /* ---------------- ACCOUNT ICON ROLLER ---------------- */
  const accountIcon = document.querySelector(".account-icon a");
  const rollerCadastrar = document.querySelector(".roller-cadastrar");
  const rollerEntrar = document.querySelector(".roller-entrar");
  const roller = document.querySelector(".account-text-roller");

  if (accountIcon && rollerCadastrar && rollerEntrar && roller) {
    let intervalId;
    let showingCadastrar = true;

    function rollText() {
      if (showingCadastrar) {
        rollerCadastrar.style.transform = "translateY(0)";
        rollerEntrar.style.transform = "translateY(100%)";
      } else {
        rollerCadastrar.style.transform = "translateY(-100%)";
        rollerEntrar.style.transform = "translateY(0)";
      }
      showingCadastrar = !showingCadastrar;
    }

    accountIcon.addEventListener("mouseenter", () => {
      roller.style.opacity = 1;
      rollText();
      intervalId = setInterval(rollText, 2000);
    });

    accountIcon.addEventListener("mouseleave", () => {
      clearInterval(intervalId);
      roller.style.opacity = 0;
      rollerCadastrar.style.transform = "translateY(0)";
      rollerEntrar.style.transform = "translateY(100%)";
      showingCadastrar = true;
    });

    rollerCadastrar.style.transform = "translateY(0)";
    rollerEntrar.style.transform = "translateY(100%)";
  }

  /* ---------------- ACESSIBILIDADE ---------------- */
  const popup = document.getElementById("accessibility-popup");
  const openBtn = document.getElementById("accessibility-btn");
  const closeBtn = document.getElementById("close-popup");

  if (popup && openBtn && closeBtn) {
    openBtn.addEventListener("click", () => popup.classList.remove("hidden"));
    closeBtn.addEventListener("click", () => popup.classList.add("hidden"));

    popup.addEventListener("click", (e) => {
      if (e.target === popup) popup.classList.add("hidden");
    });
  }

  /* ---------------- PERFIL MODAL ---------------- */
  const userNome = document.getElementById("user-nome");
  const logoutBtn = document.getElementById("logout-btn");

  if (userNome) {
    userNome.addEventListener("click", async () => {
      const token = localStorage.getItem("authToken");
      if (!token) return;

      try {
        const resposta = await fetch("/api/perfil", {
          headers: { Authorization: `Bearer ${token}` },
        });

        const user = await resposta.json();

        if (resposta.ok) {
          document.getElementById("perfil-nome").textContent = user.nome;
          document.getElementById("perfil-email").textContent = user.email;
          document.getElementById("perfil-skills").textContent = user.skills || "Não informado";
          document.getElementById("perfil-experiencia").textContent = user.experiencia || "Não informado";

          document.getElementById("perfil-modal").style.display = "flex";
        }
      } catch (err) {
        console.error("Erro ao carregar perfil:", err);
      }
    });
  }

  if (logoutBtn) {
    logoutBtn.addEventListener("click", () => {
      auth.logout();
      document.getElementById("perfil-modal").style.display = "none";
      alert("Você saiu da conta.");
    });
  }

  const closeModal = document.getElementById("close-modal");
  if (closeModal) {
    closeModal.addEventListener("click", () => {
      document.getElementById("perfil-modal").style.display = "none";
    });
  }

  window.addEventListener("click", (e) => {
    const modal = document.getElementById("perfil-modal");
    if (e.target === modal) modal.style.display = "none";
  });
});

/* Google Translate callback */
function googleTranslateElementInit() {
  new google.translate.TranslateElement(
    {
      pageLanguage: "pt",
      includedLanguages: "en,es,fr,de",
      layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
    },
    "google_translate_element"
  );
}
function updateLoginDisplay() {
  const nome = localStorage.getItem("userName");
  const userNomeEl = document.getElementById("user-nome");
  const roller = document.getElementById("login-roller");
  const icon = document.getElementById("account-icon-user");
  const link = document.getElementById("account-link");

  if (nome) {
    // Usuário logado → mostrar nome
    userNomeEl.textContent = nome.toUpperCase();
    userNomeEl.style.display = "inline";
    roller.style.display = "none";     // Esconde "Cadastrar / Entrar"
    icon.style.display = "none";       // Esconde o ícone
    link.href = "#";                   // Evita redirecionar para cadastro
  } else {
    // Usuário deslogado → mostrar opções de login
    userNomeEl.style.display = "none";
    roller.style.display = "inline-block";
    icon.style.display = "inline";
    link.href = "cadastro.html";
  }
}

// Chama ao carregar a página
document.addEventListener("DOMContentLoaded", updateLoginDisplay);

// Chama sempre que logar ou deslogar
auth.updateUserUI = function () {
  const nomeEl = document.querySelector("#user-nome");
  if (nomeEl) nomeEl.textContent = this.nome.toUpperCase();
  updateLoginDisplay();
};
  // Smooth scroll to cursos section
  const btnVerCursos = document.querySelector('.hero .btn');
  btnVerCursos.addEventListener('click', function(e) {
    e.preventDefault();
    const cursosSection = document.getElementById('cursos');
    if (cursosSection) {
      cursosSection.scrollIntoView({ behavior: 'smooth' });
    }
  });
</script>
    </script>
        <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script>
      new window.VLibras.Widget("https://vlibras.gov.br/app");
    </script>
<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  </body>
</html>
